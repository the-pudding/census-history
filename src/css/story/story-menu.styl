.story-menu
  position sticky
  position -webkit-sticky
  width 100%
  height 3rem
  z-index 1001
  top 0px
  margin-bottom -40px
  @media (max-width: $mobile-lg)
    margin-bottom 0px

  .story-menu_dropdown
    outline none
    line-height 44px
    position relative
    width 240px
    height 100%
    display block
    margin-right auto
    margin-left calc(max(35px, 50% - 20rem - 260px))
    text-align center
    transition opacity 0.25s
    &.hidden
      opacity 0
    @media (max-width: $mobile-lg)
      display block
      margin 0px auto
      padding 0px 5px 10px 5px
      width $column-width
      background-color white
    @media (max-width $mobile-sm)
      width 100vw
    &:after
      content ''
      position absolute
      right 5px
      top 22px
      height 7px
      width 7px
      border-left 2px solid black
      border-top 2px solid black
      transform rotate(45deg)
      transition transform 0.25s, top 0.25s
      @media (max-width: $mobile-sm)
        right 10px
    &_option
      display block
      position relative
      transition height, padding
      transition-duration 0.25s
      height 0
      padding 0 5px
      opacity 0.95
      overflow hidden
      text-align left
      set-type-size(small, false)
      cursor pointer
      @media (max-width: $mobile-sm)
        width calc(100vw - 10px)
        text-align center
      &.selected
        pointer-events none
        height 36px
        font-weight bold
        line-height 44px
        padding-top 2px
        border-bottom 1px solid black
    &:focus
      box-shadow 0px 0px 3px 1px #dddddd
      .story-menu_dropdown_option
        height 36px
        line-height 44px
        padding-top 2px
        background-color white
        box-shadow 3px 0px 3px -1px #dddddd, -3px 0px 3px -1px #dddddd
        &:last-child
          box-shadow 3px 0px 3px -1px #dddddd, -3px 0px 3px -1px #dddddd, 0px 3px 3px -1px #dddddd
        &:hover
          border-bottom 1px solid black
      &:after
        top 18px
        transform rotate(225deg)

  .interactive__filter-toggle
    position absolute
    left 10px
    top 12px
    cursor pointer
    z-index 2
    opacity 0
    transition opacity 0.25s
    &.visible
      opacity 1
      &.is-filter-menu-open
        polygon
          fill #282828
      @media (max-width: $mobile-lg) // larger than mobile
        opacity 0

  .interactive__filters
    opacity 0
    height calc(100vh - 48px)
    width 100%
    padding 0 10%
    display grid
    grid-template-columns 2fr 3fr 2fr
    grid-column-gap 5%
    grid-template-rows repeat(6, 1fr)
    background-color white
    transition opacity 0.5s
    pointer-events none
    @media (max-width: $mobile-sm)
      width 0
    &.visible
      opacity 1
      pointer-events auto
    &_svg
      grid-column 2 / 3
      grid-row 1 / 4
      .line
        fill none
        stroke-width 1px
        transition stroke-opacity 0.25s
        &.inactive
          stroke-opacity 0.2
      circle
        transition fill-opacity 0.25s
        &.inactive
          fill-opacity 0.2
      text
        fill #888888
        set-type-size(xx-small)
        &.big-font
          set-type-size(root)
      .underline
        stroke #aeaeae
        stroke-width 1px
    &_filter:nth-child(2)
      grid-column 1 / 2
      grid-row 1 / 4
    &_filter:nth-child(3)
      grid-column 1 / 2
      grid-row 4 / 7
    &_filter:nth-child(4)
      grid-column 3 / 4
      grid-row 1 / 3
    &_filter:nth-child(5)
      grid-column 3 / 4
      grid-row 3 / 7
    &_filter
      padding 10px
      @media (max-width: $mobile-sm)
        width 0px
      .filter-label
        set-type-size(small)
        margin-bottom 10px
      .select-all
        set-type-size(x-small, true)
        text-transform uppercase
        font-family $national-narrow
        cursor pointer
        &.disabled
          opacity 0.5
          pointer-events none
          cursor none
      .filter-options
        .filter-option
          display block
          position relative
          text-align left
          padding 0 10px 0 20px
          set-type-size(x-small, true)
          font-family $national-narrow
          text-transform uppercase
          cursor pointer
          .icon
            display inline-block
            vertical-align text-bottom
            height 16px
            width 16px
          .checkbox
            position absolute
            left 0px
            top 4px
            height 12px
            width 12px
            border-radius 2px
            border 1px solid #aeaeae
          .check-only
            display inline-block
            font-weight bold
            text-transform none
            opacity 0
            transition opacity 0.25s
          &:hover .check-only
            opacity 1
          &.selected
            .checkbox
              border-width 0px
            .checkbox:before
              content: ''
              position absolute
              left 4px
              top 1px
              height 8px
              width 3px
              border-left 1px solid white
              border-top 1px solid white
              transform rotate(220deg)