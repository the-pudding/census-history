/* CUSTOM STORY STYLE */
.interactive
  position relative

  &__tooltip
    position absolute
    height 250px
    width 350px
    border-radius 10px
    border 1px solid
    display grid
    grid-template-rows 25px 8fr
    grid-template-columns 5fr 3fr
    grid-column-gap 10px
    transition top 0.5s, left 0.5s, opacity 0.25s
    pointer-events none
    opacity 0
    background-color white
    z-index 2
    &.visible
      opacity 0.95
    @media (max-width: 768px)
      border-radius 0px
      position fixed
      bottom 0px
      top auto
      left 0px
      height 25vh
      width 100vw
      pointer-events initial // allow click out of tooltip

    &_question
      grid-row 1 / 2
      grid-column 1 / 3
      padding 2px 4px
      text-align center
      border-top-right-radius 10px
      border-top-left-radius 10px
      border-bottom 1px solid

    &_right-col
      grid-row 2 / 3
      grid-column 2 / 3
      margin-top 5px
      overflow-y hidden
      &.dblwide
        grid-column 1 / 3
        margin 5px auto
      &_qtype,
      &_unit,
      &_asked-of
        display flex
        width 100%
        set-type-size(xx-small)
        span
          padding-left 4px
          display flex
          flex-direction column
          justify-content space-around
      &_options
        padding 5px
        set-type-size(xxx-small)
        ul.wrap
          overflow hidden
          columns 2
          column-gap 2px
        li
          set-type-size(xxx-small)
    .image-unit,
    .image-qtype,
    .image-asked-of
      display inline-block
      height 24px
      width 24px

    .image-question
      grid-row 2 / 3
      grid-column 1 / 2
      object-fit contain
      align-self center
      justify-self center
      max-width 100%
      max-height 100%
      height auto

  &__img
    display block
    height 300px
    border 1px solid black
    max-width $column-width
    margin 0 auto
    margin-top 1rem
    text-align center

  &__story-intro
    display block
    max-width $column-width
    margin 0 auto
    margin-top 1rem
    text-align center

  &__navigation
    display block
    margin 0 auto
    margin-top 1rem
    text-align center

  .sticky-container
    display block
    position relative
    margin 0 auto
    margin-top 1rem
    text-align center
    display flex

    .interactive__story-step
      position sticky
      width 23.33%
      left 5%
      top 33.33vh
      height 33.33vh
      border-radius 10px
      color-glow($palette.green)
      transition opacity 0.25s
      opacity 0
      display grid
      grid-template-rows 25px 1fr
      grid-template-columns 1fr 24px
      @media (max-width: 768px)
        border-radius 0px
        position fixed
        bottom 0px
        top auto
        left 0px
        height 25vh
        width 100vw

      &.visible
        opacity 1

      &-title
        border-bottom 1px solid
        border-bottom-color white
        grid-row 1 / 2
        grid-column 1 / 2
        set-type-size(root)
      &-body
        grid-row 2 / 3
        grid-column 1 / 2
        vertical-align middle
        set-type-size(small)
        text-align left
        padding 10px
        overflow-y scroll
        @media (max-width: 768px)
          set-type-size(xx-small)

      .interactive__story-stepper
        position relative
        grid-row 1 / 3
        grid-column 2 / 3
        border-left 1px solid
        border-left-color white
        height 100%
        width 100%

        &-dots
          position absolute
          height calc(100% - 48px)
          top 24px
          width 100%
          display flex
          flex-direction column
          justify-content space-around
          .step-dot
            height 10px
            width 10px
            border 1px solid white
            margin 0 auto
            border-radius 2px
            transition background-color 0.25s
            &.current
              background-color white
        &-up
          position absolute
          top 4px
          left -1px
          cursor pointer
        &-down
          position absolute
          bottom 4px
          left -1px
          cursor pointer

    .interactive__svg
      display block
      margin 0 0 0 10%
      margin-top 1rem
      text-align center

      .label
        font-size 200px
        text-anchor middle
        font-family Arial, Helvetica, sans-serif
        fill #dddddd
        @media (max-width: 768px)
          font-size 175px

      circle
        fill-opacity 0.6
        &.active
          stroke-width 2px
      @media (max-width: 768px)
        margin 0

    .interactive__history
      display block
      position relative
      margin-left 3.333%
      width 30%
      &_flag
        position absolute
        color-glow($palette.blue)
        border-radius 5px
        width 10%
        text-align left
        &_years
          top -5px
          set-type-size(x-small)
        &_event
          top 10px
          set-type-size(xxx-small)
          font-weight bold
        &_years, &_event
          position absolute
          color $palette.brown
          left 110%
          min-width 120px
          max-width 150px
          z-index 1
      @media (max-width: 768px)
        visibility hidden
        position absolute
        width 0
    .interactive__filter-toggle
      position sticky
      top 10vh
      left calc(5% + 5px)
      margin-right -24px
      cursor pointer
      opacity 0
      transition opacity 0.5s
      z-index 2
      &.visible
        opacity 1

    .interactive__filters
      position fixed
      left -300px
      width 200px
      top 70px
      transition left 0.5s
      set-type-size(x-small)
      color-glow($palette.yellow)
      z-index 1
      padding 30px 5px 0px 5px
      @media (max-width: 768px)
        width 90%
        left -100%
        padding-top 40px
        background-color white
        &.open
          left 5%
      &.open
        left 5%
      .interactive__filter
        position relative
        display flex
        flex-direction row
        outline none
        &:not(:last-child)
          border-bottom 1px solid white
        &_label
          font-weight bold
          height 20px
          position relative
          width 100%
          text-align left
          &:after
            content ''
            position absolute
            right 5px
            top 7px
            height 8px
            width 8px
            border-left 2px solid black
            border-top 2px solid black
            transform rotate(45deg)
            transition transform 0.25s, top 0.25s
        &_multiselect
          position absolute
          min-height 20px
          top 20px
          left 0px
          width 188px
          @media (max-width: 768px)
            width 100%
          &_option
            display block
            position relative
            transition height, padding
            transition-duration 0.25s
            height 0
            padding 0 10px 0 20px
            background-color $palette.yellow
            opacity 0.95
            overflow hidden
            text-align left
            set-type-size(xx-small)
            cursor pointer
            &:hover
              filter brightness(1.05)
            &:before
              content: ''
              position absolute
              left 4px
              top 3px
              height 10px
              width 10px
              border 1px solid white
              border-radius 2px
            &.selected
              font-weight bold
              &:after
                content: ''
                position absolute
                left 8px
                top 3px
                height 8px
                width 3px
                border-left 2px solid white
                border-top 2px solid white
                transform rotate(220deg)
        &:focus
          z-index 3
          .interactive__filter_multiselect_option
            height 20px
            padding-top 2px
            border-bottom 1px solid white
          .interactive__filter_label:after
            top 4px
            transform rotate(225deg)
    .interactive__legend
      position fixed
      left 5%
      bottom 10vh
      width 23.33%
      transition opacity 0.25s
      opacity 0
      &.visible
        opacity 1
      &_tile
        set-type-size(xx-small)
        margin-right 5px
        padding 2px
        display inline-block

.conclusion
  display block
  max-width $column-width
  margin 0 auto
  margin-top 1rem
  text-align center