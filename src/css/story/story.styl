/* CUSTOM STORY STYLE */
.interactive
  position relative

  .intro__or-explore
    display block
    margin 0 auto 50px auto
    margin-top 1rem
    text-align center

  &__tooltip
    position absolute
    height 250px
    width 440px
    border-radius 10px
    border 1px solid
    display grid
    grid-template-rows 25px 8fr
    grid-template-columns 5fr 3fr
    grid-column-gap 10px
    transition top 0.5s, left 0.5s, opacity 0.25s
    pointer-events none
    opacity 0
    background-color white
    z-index 2
    &.visible
      opacity 0.95
    @media (max-width: 768px)
      border-radius 0px
      position fixed
      bottom 0px
      top auto
      left 0px
      height 25vh
      width 100vw
      &.visible
        pointer-events initial // allow click out of tooltip

    &_question
      grid-row 1 / 2
      grid-column 1 / 3
      padding 2px 4px
      text-align center
      border-top-right-radius 10px
      border-top-left-radius 10px
      border-bottom 1px solid
      position relative
      padding-right 80px
      &_category
        position absolute
        right -1px
        top 0px
        width 80px
        set-type-size(xx-small, false)
        padding 4px 6px 3px 6px
        border-top-right-radius 10px
        @media (max-width: 768px)
          border-radius 0px

    &_right-col
      grid-row 2 / 3
      grid-column 2 / 3
      margin-top 5px
      overflow-y hidden
      @media (max-width: 768px)
        grid-column 1/3
        display grid
        grid-template-columns 3fr 5fr
        grid-template-rows repeat(3, 25px) 1fr
        grid-column-gap 10px
        margin 5px 5px
      &.dblwide
        grid-column 1 / 3
        margin 5px auto
      &_qtype,
      &_unit,
      &_asked-of
        display flex
        width 100%
        set-type-size(xx-small, true)
        @media (max-width: 768px)
          grid-column 1/2
        span
          padding-left 4px
          display flex
          flex-direction column
          justify-content space-around
      &_options
        padding 5px
        set-type-size(xxx-small, true)
        @media (max-width: 768px)
          set-type-size(x-small, true)
          grid-column 2/ 3
          grid-row 1/ 4
        ul.wrap
          overflow hidden
          columns 2
          column-gap 2px
        li
          set-type-size(xxx-small, true)
          @media (max-width: 768px)
            set-type-size(x-small, true)
            line-height 1.5
    .image-unit,
    .image-qtype,
    .image-asked-of
      display inline-block
      height 24px
      width 24px

    .image-question
      grid-row 2 / 3
      grid-column 1 / 2
      object-fit contain
      align-self center
      justify-self center
      max-width 100%
      max-height 100%
      height auto
      @media (max-width: 768px)
        opacity 0

  &__img
    display block
    height 300px
    width auto
    border 1px solid black
    max-width $column-width
    margin 0 auto
    margin-top 1rem
    text-align center
    @media (max-width: 768px)
      height 250px

  &__story-intro
    display block
    max-width $column-width
    margin 0 auto
    margin-top 1rem
    text-align justify
    @media (max-width: 768px)
      padding 0px 10px

  &__navigation
    display block
    margin 0 auto
    margin-top 1rem
    text-align center

  .sticky-container
    display grid
    grid-template-columns 2fr 3fr 2fr
    grid-column-gap 20px
    position relative
    margin 0 auto
    margin-top 1rem
    text-align center
    @media (max-width: 768px)
      grid-template-columns 0fr 1fr 0fr
      grid-column-gap 0px

    .interactive__story-step
      position sticky
      left 20px
      width calc(100% - 20px)
      top 33.33vh
      height 33.33vh
      border-radius 10px
      color-glow($palette.green)
      transition opacity 0.25s
      opacity 0
      display grid
      grid-template-rows 25px 1fr
      grid-template-columns 1fr 24px
      @media (max-width: 768px)
        border-radius 0px
        position fixed
        bottom 0px
        top auto
        left 0px
        height 25vh
        width 100%

      &.visible
        opacity 1

      &-title
        border-bottom 1px solid
        border-bottom-color white
        grid-row 1 / 2
        grid-column 1 / 2
        set-type-size(root, true)
      &-body
        grid-row 2 / 3
        grid-column 1 / 2
        vertical-align middle
        set-type-size(small, false)
        text-align left
        padding 10px
        overflow-y scroll

      .interactive__story-stepper
        position relative
        grid-row 1 / 3
        grid-column 2 / 3
        border-left 1px solid
        border-left-color white
        height 100%
        width 100%

        &-dots
          position absolute
          height calc(100% - 48px)
          top 24px
          width 100%
          display flex
          flex-direction column
          justify-content space-around
          .step-dot
            height 10px
            width 10px
            border 1px solid white
            margin 0 auto
            border-radius 2px
            transition background-color 0.25s
            &.current
              background-color white
        &-up
          position absolute
          top 4px
          left -1px
          cursor pointer
        &-down
          position absolute
          bottom 4px
          left -1px
          cursor pointer

    .interactive__svg
      display block
      margin-top 1rem
      text-align center
      grid-column 2 / 3

      .label
        font-size 40px
        font-family Arial, Helvetica, sans-serif
        transition font-size 0.25s
        &.current
          font-weight 600
          font-size 45px
        @media (max-width: 768px)
          opacity 0.4
          font-size 140px
          text-anchor middle
          &.current
            font-size 150px
      .line
        fill none

      circle
        fill-opacity 0.9
        &.active
          stroke-width 2px
        &.out-of-story
          fill-opacity 0.3
          stroke-opacity 0.3
      @media (max-width: 768px)
        margin 0

    .interactive__history
      display block
      position relative
      grid-column 3 / 4
      &_flag
        position absolute
        color-glow($palette.blue)
        border-radius 5px
        width 10%
        text-align left
        &_years
          top -5px
          set-type-size(x-small, true)
        &_event
          top 10px
          set-type-size(xxx-small, true)
          font-weight bold
        &_years, &_event
          position absolute
          color $palette.brown
          left 110%
          min-width 120px
          max-width 150px
          z-index 1
      @media (max-width: 768px)
        visibility hidden
        position absolute
        width 0
        grid-column 1 / 2

    .interactive__legend
      position fixed
      left 5%
      bottom 10vh
      width 23.33%
      transition opacity 0.25s
      opacity 0
      pointer-events none
      &.visible
        opacity 1
      &_tile
        set-type-size(x-small, true)
        margin-right 5px
        padding 2px
        display inline-block
        &.out-of-story
          opacity 0.3

.conclusion
  display block
  max-width $column-width
  margin 0 auto
  margin-top 1rem
  text-align center